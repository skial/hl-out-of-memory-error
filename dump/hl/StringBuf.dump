@:keep @:directlyUsed @:used @:coreApi
class StringBuf {

	public function new[Function:Void -> Void]
		[Block:hl.Bytes]
			[Binop:Int]
				[Field:Int]
					[Const:StringBuf] this
					[FInstance:Int]
						StringBuf
						pos:Int
				=
				[Const:Int] 0
			[Binop:Int]
				[Field:Int]
					[Const:StringBuf] this
					[FInstance:Int]
						StringBuf
						size:Int
				=
				[Const:Int] 8
			[Var this1(767):hl.Bytes]
				[Call:hl.Bytes]
					[Field:(size : Int) -> hl.Bytes]
						[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
						[FStatic:(size : Int) -> hl.Bytes]
							hl._Bytes.Bytes_Impl_
							alloc:(size : Int) -> hl.Bytes
					[Field:Int]
						[Const:StringBuf] this
						[FInstance:Int]
							StringBuf
							size:Int
			[Binop:hl.Bytes]
				[Field:hl.Bytes]
					[Const:StringBuf] this
					[FInstance:hl.Bytes]
						StringBuf
						b:hl.Bytes
				=
				[Cast:hl.Bytes] [Local this1(767):hl.Bytes:hl.Bytes]

	var b:hl.Bytes;

	var size:Int;

	var pos:Int;

	public var length(never,never):Int;

	public function add<T : add.T>[Function:(x : add.T) -> Void]
		[Arg:add.T] [Local x(770):add.T]
		[Block:Void]
			[Var slen(771):Int] [Const:Int] 0
			[Var this1(775):hl.Ref<Int>]
				[Call:hl.Ref<Int>]
					[Ident:Int -> Unknown<0>] $ref
					[Local slen(771):Int:Int]
			[Var sbytes(776):hl.Bytes]
				[Call:hl.Bytes]
					[Field:(v : Dynamic, length : hl.Ref<Int>) -> hl.Bytes]
						[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
						[FStatic:(v : Dynamic, length : hl.Ref<Int>) -> hl.Bytes]
							hl._Bytes.Bytes_Impl_
							fromValue:(v : Dynamic, length : hl.Ref<Int>) -> hl.Bytes
					[Local x(770):add.T:add.T]
					[Cast:hl.Ref<Int>] [Local this1(775):hl.Ref<Int>:hl.Ref<Int>]
			[Block:Void]
				[Var ssize(798):Int]
					[Binop:Int]
						[Local slen(771):Int:Int]
						<<
						[Const:Int] 1
				[If:Void]
					[Parenthesis:Bool]
						[Binop:Bool]
							[Binop:Int]
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										pos:Int
								+
								[Local ssize(798):Int:Int]
							>
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									size:Int
					[Then:Void] [Block:Void]
						[Var need(799):Int]
							[Binop:Int]
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										pos:Int
								+
								[Local ssize(798):Int:Int]
						[Var nsize(800):Int]
							[Binop:Int]
								[Binop:Int]
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											size:Int
									*
									[Const:Int] 3
								>>
								[Const:Int] 1
						[If:Void]
							[Parenthesis:Bool]
								[Binop:Bool]
									[Local need(799):Int:Int]
									>
									[Local nsize(800):Int:Int]
							[Then:Int] [Binop:Int]
								[Local nsize(800):Int:Int]
								=
								[Local need(799):Int:Int]
						[Var this2(801):hl.Bytes]
							[Call:hl.Bytes]
								[Field:(size : Int) -> hl.Bytes]
									[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
									[FStatic:(size : Int) -> hl.Bytes]
										hl._Bytes.Bytes_Impl_
										alloc:(size : Int) -> hl.Bytes
								[Local nsize(800):Int:Int]
						[Var b2(802):hl.Bytes] [Cast:hl.Bytes] [Local this2(801):hl.Bytes:hl.Bytes]
						[Call:Void]
							[Field:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
								[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
								[FStatic:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
									hl._Bytes.Bytes_Impl_
									blit:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void
							[Local b2(802):hl.Bytes:hl.Bytes]
							[Const:Int] 0
							[Field:hl.Bytes]
								[Const:StringBuf] this
								[FInstance:hl.Bytes]
									StringBuf
									b:hl.Bytes
							[Const:Int] 0
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									pos:Int
						[Binop:hl.Bytes]
							[Field:hl.Bytes]
								[Const:StringBuf] this
								[FInstance:hl.Bytes]
									StringBuf
									b:hl.Bytes
							=
							[Local b2(802):hl.Bytes:hl.Bytes]
						[Binop:Int]
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									size:Int
							=
							[Local nsize(800):Int:Int]
				[Call:Void]
					[Field:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
						[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
						[FStatic:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
							hl._Bytes.Bytes_Impl_
							blit:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void
					[Field:hl.Bytes]
						[Const:StringBuf] this
						[FInstance:hl.Bytes]
							StringBuf
							b:hl.Bytes
					[Field:Int]
						[Const:StringBuf] this
						[FInstance:Int]
							StringBuf
							pos:Int
					[Local sbytes(776):hl.Bytes:hl.Bytes]
					[Const:Int] 0
					[Local ssize(798):Int:Int]
				[Binop:Int]
					[Field:Int]
						[Const:StringBuf] this
						[FInstance:Int]
							StringBuf
							pos:Int
					+=
					[Local ssize(798):Int:Int]

	public function addChar[Function:(c : Int) -> Void]
		[Arg:Int] [Local c(839):Int]
		[Block:Void]
			[If:Void]
				[Parenthesis:Bool]
					[Binop:Bool]
						[Binop:Bool]
							[Local c(839):Int:Int]
							>=
							[Const:Int] 0
						&&
						[Binop:Bool]
							[Local c(839):Int:Int]
							<
							[Const:Int] 65536
				[Then:Int] [Block:Int]
					[If:Void]
						[Parenthesis:Bool]
							[Binop:Bool]
								[Binop:Bool]
									[Local c(839):Int:Int]
									>=
									[Const:Int] 55296
								&&
								[Binop:Bool]
									[Local c(839):Int:Int]
									<=
									[Const:Int] 57343
						[Then:Unknown<13>] [Throw:Unknown<13>]
							[Binop:String]
								[Const:String] "Invalid unicode char "
								+
								[Local c(839):Int:Int]
					[If:Void]
						[Parenthesis:Bool]
							[Binop:Bool]
								[Binop:Int]
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											pos:Int
									+
									[Const:Int] 2
								>
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										size:Int
						[Then:Void] [Block:Void]
							[Var nsize(843):Int]
								[Binop:Int]
									[Binop:Int]
										[Field:Int]
											[Const:StringBuf] this
											[FInstance:Int]
												StringBuf
												size:Int
										*
										[Const:Int] 3
									>>
									[Const:Int] 1
							[If:Void]
								[Parenthesis:Bool]
									[Binop:Bool]
										[Const:Int] 0
										>
										[Local nsize(843):Int:Int]
								[Then:Int] [Binop:Int]
									[Local nsize(843):Int:Int]
									=
									[Const:Int] 0
							[Var this1(844):hl.Bytes]
								[Call:hl.Bytes]
									[Field:(size : Int) -> hl.Bytes]
										[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
										[FStatic:(size : Int) -> hl.Bytes]
											hl._Bytes.Bytes_Impl_
											alloc:(size : Int) -> hl.Bytes
									[Local nsize(843):Int:Int]
							[Var b2(845):hl.Bytes] [Cast:hl.Bytes] [Local this1(844):hl.Bytes:hl.Bytes]
							[Call:Void]
								[Field:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
									[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
									[FStatic:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
										hl._Bytes.Bytes_Impl_
										blit:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void
								[Local b2(845):hl.Bytes:hl.Bytes]
								[Const:Int] 0
								[Field:hl.Bytes]
									[Const:StringBuf] this
									[FInstance:hl.Bytes]
										StringBuf
										b:hl.Bytes
								[Const:Int] 0
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										pos:Int
							[Binop:hl.Bytes]
								[Field:hl.Bytes]
									[Const:StringBuf] this
									[FInstance:hl.Bytes]
										StringBuf
										b:hl.Bytes
								=
								[Local b2(845):hl.Bytes:hl.Bytes]
							[Binop:Int]
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										size:Int
								=
								[Local nsize(843):Int:Int]
					[Block:Void]
						[Var this2(848):hl.Bytes]
							[Field:hl.Bytes]
								[Const:StringBuf] this
								[FInstance:hl.Bytes]
									StringBuf
									b:hl.Bytes
						[Var pos(849):Int]
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									pos:Int
						[Call:Unknown<8>]
							[Ident:(hl.Bytes, Int, Int) -> Unknown<7>] $bsetui16
							[Cast:hl.Bytes] [Local this2(848):hl.Bytes:hl.Bytes]
							[Local pos(849):Int:Int]
							[Local c(839):Int:Int]
					[Binop:Int]
						[Field:Int]
							[Const:StringBuf] this
							[FInstance:Int]
								StringBuf
								pos:Int
						+=
						[Const:Int] 2
				[Else:Void] [If:Void]
					[Parenthesis:Bool]
						[Binop:Bool]
							[Local c(839):Int:Int]
							<
							[Const:Int] 1114112
					[Then:Int] [Block:Int]
						[If:Void]
							[Parenthesis:Bool]
								[Binop:Bool]
									[Binop:Int]
										[Field:Int]
											[Const:StringBuf] this
											[FInstance:Int]
												StringBuf
												pos:Int
										+
										[Const:Int] 4
									>
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											size:Int
							[Then:Void] [Block:Void]
								[Var nsize1(855):Int]
									[Binop:Int]
										[Binop:Int]
											[Field:Int]
												[Const:StringBuf] this
												[FInstance:Int]
													StringBuf
													size:Int
											*
											[Const:Int] 3
										>>
										[Const:Int] 1
								[If:Void]
									[Parenthesis:Bool]
										[Binop:Bool]
											[Const:Int] 0
											>
											[Local nsize1(855):Int:Int]
									[Then:Int] [Binop:Int]
										[Local nsize1(855):Int:Int]
										=
										[Const:Int] 0
								[Var this3(856):hl.Bytes]
									[Call:hl.Bytes]
										[Field:(size : Int) -> hl.Bytes]
											[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
											[FStatic:(size : Int) -> hl.Bytes]
												hl._Bytes.Bytes_Impl_
												alloc:(size : Int) -> hl.Bytes
										[Local nsize1(855):Int:Int]
								[Var b21(857):hl.Bytes] [Cast:hl.Bytes] [Local this3(856):hl.Bytes:hl.Bytes]
								[Call:Void]
									[Field:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
										[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
										[FStatic:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
											hl._Bytes.Bytes_Impl_
											blit:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void
									[Local b21(857):hl.Bytes:hl.Bytes]
									[Const:Int] 0
									[Field:hl.Bytes]
										[Const:StringBuf] this
										[FInstance:hl.Bytes]
											StringBuf
											b:hl.Bytes
									[Const:Int] 0
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											pos:Int
								[Binop:hl.Bytes]
									[Field:hl.Bytes]
										[Const:StringBuf] this
										[FInstance:hl.Bytes]
											StringBuf
											b:hl.Bytes
									=
									[Local b21(857):hl.Bytes:hl.Bytes]
								[Binop:Int]
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											size:Int
									=
									[Local nsize1(855):Int:Int]
						[Binop:Int]
							[Local c(839):Int:Int]
							-=
							[Const:Int] 65536
						[Block:Void]
							[Var this4(861):hl.Bytes]
								[Field:hl.Bytes]
									[Const:StringBuf] this
									[FInstance:hl.Bytes]
										StringBuf
										b:hl.Bytes
							[Var pos1(862):Int]
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										pos:Int
							[Call:Unknown<8>]
								[Ident:(hl.Bytes, Int, Int) -> Unknown<7>] $bsetui16
								[Cast:hl.Bytes] [Local this4(861):hl.Bytes:hl.Bytes]
								[Local pos1(862):Int:Int]
								[Binop:Int]
									[Parenthesis:Int]
										[Binop:Int]
											[Local c(839):Int:Int]
											>>
											[Const:Int] 10
									+
									[Const:Int] 55296
						[Block:Void]
							[Var this5(866):hl.Bytes]
								[Field:hl.Bytes]
									[Const:StringBuf] this
									[FInstance:hl.Bytes]
										StringBuf
										b:hl.Bytes
							[Var pos2(867):Int]
								[Binop:Int]
									[Field:Int]
										[Const:StringBuf] this
										[FInstance:Int]
											StringBuf
											pos:Int
									+
									[Const:Int] 2
							[Call:Unknown<8>]
								[Ident:(hl.Bytes, Int, Int) -> Unknown<7>] $bsetui16
								[Cast:hl.Bytes] [Local this5(866):hl.Bytes:hl.Bytes]
								[Local pos2(867):Int:Int]
								[Binop:Int]
									[Parenthesis:Int]
										[Binop:Int]
											[Local c(839):Int:Int]
											&
											[Const:Int] 1023
									+
									[Const:Int] 56320
						[Binop:Int]
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									pos:Int
							+=
							[Const:Int] 4
					[Else:Unknown<12>] [Throw:Unknown<12>]
						[Binop:String]
							[Const:String] "Invalid unicode char "
							+
							[Local c(839):Int:Int]

	public function toString[Function:Void -> String]
		[Block:Dynamic]
			[If:Void]
				[Parenthesis:Bool]
					[Binop:Bool]
						[Binop:Int]
							[Field:Int]
								[Const:StringBuf] this
								[FInstance:Int]
									StringBuf
									pos:Int
							+
							[Const:Int] 2
						>
						[Field:Int]
							[Const:StringBuf] this
							[FInstance:Int]
								StringBuf
								size:Int
				[Then:Void] [Block:Void]
					[Var nsize(812):Int]
						[Binop:Int]
							[Binop:Int]
								[Field:Int]
									[Const:StringBuf] this
									[FInstance:Int]
										StringBuf
										size:Int
								*
								[Const:Int] 3
							>>
							[Const:Int] 1
					[If:Void]
						[Parenthesis:Bool]
							[Binop:Bool]
								[Const:Int] 0
								>
								[Local nsize(812):Int:Int]
						[Then:Int] [Binop:Int]
							[Local nsize(812):Int:Int]
							=
							[Const:Int] 0
					[Var this1(813):hl.Bytes]
						[Call:hl.Bytes]
							[Field:(size : Int) -> hl.Bytes]
								[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
								[FStatic:(size : Int) -> hl.Bytes]
									hl._Bytes.Bytes_Impl_
									alloc:(size : Int) -> hl.Bytes
							[Local nsize(812):Int:Int]
					[Var b2(814):hl.Bytes] [Cast:hl.Bytes] [Local this1(813):hl.Bytes:hl.Bytes]
					[Call:Void]
						[Field:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
							[TypeExpr hl._Bytes.Bytes_Impl_:Class<hl._Bytes.Bytes_Impl_>]
							[FStatic:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void]
								hl._Bytes.Bytes_Impl_
								blit:(this : hl.Bytes, pos : Int, src : hl.Bytes, srcPos : Int, len : Int) -> Void
						[Local b2(814):hl.Bytes:hl.Bytes]
						[Const:Int] 0
						[Field:hl.Bytes]
							[Const:StringBuf] this
							[FInstance:hl.Bytes]
								StringBuf
								b:hl.Bytes
						[Const:Int] 0
						[Field:Int]
							[Const:StringBuf] this
							[FInstance:Int]
								StringBuf
								pos:Int
					[Binop:hl.Bytes]
						[Field:hl.Bytes]
							[Const:StringBuf] this
							[FInstance:hl.Bytes]
								StringBuf
								b:hl.Bytes
						=
						[Local b2(814):hl.Bytes:hl.Bytes]
					[Binop:Int]
						[Field:Int]
							[Const:StringBuf] this
							[FInstance:Int]
								StringBuf
								size:Int
						=
						[Local nsize(812):Int:Int]
			[Block:Void]
				[Var this2(817):hl.Bytes]
					[Field:hl.Bytes]
						[Const:StringBuf] this
						[FInstance:hl.Bytes]
							StringBuf
							b:hl.Bytes
				[Var pos(818):Int]
					[Field:Int]
						[Const:StringBuf] this
						[FInstance:Int]
							StringBuf
							pos:Int
				[Call:Unknown<8>]
					[Ident:(hl.Bytes, Int, Int) -> Unknown<7>] $bsetui16
					[Cast:hl.Bytes] [Local this2(817):hl.Bytes:hl.Bytes]
					[Local pos(818):Int:Int]
					[Const:Int] 0
			[Var b(822):hl.Bytes]
				[Field:hl.Bytes]
					[Const:StringBuf] this
					[FInstance:hl.Bytes]
						StringBuf
						b:hl.Bytes
			[Var length(823):Int]
				[Binop:Int]
					[Field:Int]
						[Const:StringBuf] this
						[FInstance:Int]
							StringBuf
							pos:Int
					>>
					[Const:Int] 1
			[Var s(824):String]
				[Call:String]
					[Ident:Class<String> -> Unknown<1>] $new
					[TypeExpr String:Class<String>]
			[Binop:hl.Bytes]
				[Field:hl.Bytes]
					[Local s(824):String:String]
					[FInstance:hl.Bytes]
						String
						bytes:hl.Bytes
				=
				[Local b(822):hl.Bytes:hl.Bytes]
			[Binop:Int]
				[Field:Int]
					[Local s(824):String:String]
					[FInstance:Int]
						String
						length:Int
				=
				[Local length(823):Int:Int]
			[Return:Dynamic] [Local s(824):String:String]
}